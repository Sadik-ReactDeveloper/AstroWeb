{"version":3,"sources":["components/chat/ChatAppList.js","components/chat/ChatAppMassage.js","components/chat/ChatApp.js","../node_modules/reactstrap/es/Button.js"],"names":["ChatAppList","props","state","userChatList","Activeastro","index","astroId","localStorage","getItem","axiosConfig","get","then","res","console","log","data","setState","catch","err","userId","JSON","parse","response","status","roomid","error","this","style","backgroundColor","height","borderRadius","className","onClick","getChatRoom","src","img","Buyimg","alt","fullname","length","map","user","Index","key","_id","getChatRoomId","astroid","msg","React","Component","ChatAppMassage","componentDidMount","roomChatData","chat","type","reverse","i","ChatApp","formatTime","timer","getSeconds","slice","minutes","Math","floor","getMinutes","getHours","handlestartinterval","apicall","current","setInterval","sessionStorage","setItem","payload","post","Fetchuserdetail","message","handlestop","history","push","swal","handleStart","countRef","setTimer","handlePause","clearInterval","minute","seconds","startTimer","secondsToTime","user_id","userimg","time","Historydata","alluserMessage","userid","obj","CurrentRoomid","respons","roomId","sendbutton","submitHandler","e","preventDefault","handleChange","target","value","createRef","createNewValidation","newWorkspace","bind","countDown","secs","divisor_for_minutes","divisor_for_seconds","h","m","s","ceil","alert","LayoutOne","headerTop","Container","class","id","placeholder","onChange","defaultValue","disabled","newWorkspaceTitle","to","Button","color","_excluded","propTypes","active","bool","string","block","outline","tag","innerRef","oneOfType","object","func","size","children","node","cssModule","close","_React$Component","_this","call","_proto","prototype","render","_this$props","ariaLabel","Tag","attributes","createElement","btnOutlineColor","classes","href","defaultAriaLabel","undefined","ref","defaultProps"],"mappings":"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","file":"static/js/125.d789094b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../../assets/scss/chat.scss\";\r\nimport axiosConfig from \"../../axiosConfig\";\r\nimport Buyimg from \"../../../src/assets/img/boy-img.png\";\r\nclass ChatAppList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userChatList: [],\r\n      Activeastro: {},\r\n      index: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const astroId = localStorage.getItem(\"astroId\");\r\n    axiosConfig\r\n      .get(`/admin/getoneAstro/${astroId}`)\r\n      .then(res => {\r\n        console.log(res.data.data);\r\n        this.setState({ Activeastro: res?.data?.data });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    let userId = JSON.parse(localStorage.getItem(\"user_id\"));\r\n\r\n    console.log(userId);\r\n    axiosConfig\r\n      .get(`/user/getroomid/${userId}`)\r\n      .then(response => {\r\n        console.log(response.data?.data);\r\n        if (response.data.status === true) {\r\n          this.setState({\r\n            userChatList: response.data?.data,\r\n            roomid: response.data.data?.roomid,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { userChatList, index } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {this.state.Activeastro !== \"\" ? (\r\n          <>\r\n            <div\r\n              style={{\r\n                backgroundColor: \"#ddd\",\r\n                height: \"40px\",\r\n                borderRadius: \"8px\",\r\n              }}\r\n              className=\"container existingchat\"\r\n            >\r\n              <h4 className=\"existingchatnew\">\r\n                <b>Current Astro</b>\r\n              </h4>\r\n            </div>\r\n            <ul>\r\n              <li\r\n                className=\"astrolistmain\"\r\n                onClick={() => {\r\n                  this.props.getChatRoom(this.state.Activeastro, false);\r\n                  this.setState({ index: \"\" });\r\n                }}\r\n                style={{\r\n                  backgroundColor: `${\r\n                    this.props.data === false ? \"#ef9014\" : \"white\"\r\n                  }`,\r\n                }}\r\n              >\r\n                <div\r\n                  className=\"list-main\"\r\n                  // onClick={() => {\r\n                  //   this.props.getChatRoom(user, Index);\r\n                  //   this.setState({ index: Index });\r\n                  // }}\r\n                >\r\n                  <div className=\"imglf\">\r\n                    <img\r\n                      src={\r\n                        this.state.Activeastro?.img\r\n                          ? this.state.Activeastro?.img\r\n                          : Buyimg\r\n                      }\r\n                      className=\"app-img\"\r\n                      alt=\"astroimg\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"lst-con\">\r\n                    <h5>{this.state.Activeastro?.fullname}</h5>\r\n                    <p></p>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </>\r\n        ) : null}\r\n\r\n        <div\r\n          style={{ backgroundColor: \"#ddd\", height: \"40px\" }}\r\n          className=\"container existingchat\"\r\n        >\r\n          <h4 className=\"existingchatnew\">\r\n            {\" \"}\r\n            <b>Existing Chat</b>{\" \"}\r\n          </h4>\r\n        </div>\r\n        <ul>\r\n          {userChatList.length\r\n            ? userChatList.map((user, Index) => {\r\n                return (\r\n                  <li\r\n                    className=\"astrolistmain\"\r\n                    style={{\r\n                      backgroundColor: `${\r\n                        index === Index ? \"#ef9014\" : \"white\"\r\n                      }`,\r\n                    }}\r\n                  >\r\n                    <div\r\n                      key={user?._id}\r\n                      className=\"list-main\"\r\n                      onClick={() => {\r\n                        this.props.getChatRoomId(user, Index);\r\n                        this.setState({ index: Index });\r\n                      }}\r\n                    >\r\n                      <div className=\"imglf\">\r\n                        <img\r\n                          src={user.astroid?.img ? user.astroid?.img : Buyimg}\r\n                          className=\"app-img\"\r\n                          alt=\"astroimg\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"lst-con\">\r\n                        <h5>\r\n                          {user.astroid?.fullname\r\n                            ? user.astroid?.fullname\r\n                            : \"No Name\"}\r\n                        </h5>\r\n                        <p>{user.msg}</p>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                );\r\n              })\r\n            : null}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChatAppList;\r\n","import React from \"react\";\r\nimport \"../../assets/scss/chat.scss\";\r\nimport axiosConfig from \"../../axiosConfig\";\r\nclass ChatAppMassage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userChatList: [],\r\n      Activeastro: {},\r\n      index: \"\",\r\n    };\r\n  }\r\n  componentDidMount = () => {\r\n    // axiosConfig\r\n    //   .get(`/user/allchatwithuser/${response.data?.data?.roomid}`)\r\n    //   .then(respons => {\r\n    //     this.handleStart();\r\n    //     console.log(respons?.data?.data);\r\n    //     if (respons.data.status === true) {\r\n    //       this.setState({ roomChatData: respons?.data.data });\r\n    //     }\r\n    //   })\r\n    //   .catch(error => {\r\n    //     console.log(error);\r\n    //   });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"roomChatData\", this.props.roomChatData);\r\n    return (\r\n      <>\r\n        {this.props.roomChatData.length\r\n          ? this.props.roomChatData\r\n              .map((chat, index) => {\r\n                return (\r\n                  <>\r\n                    {chat.type === \"user\" ? (\r\n                      <div className=\"message me\">\r\n                        <div className=\"message-body\">{chat.msg}</div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"message\">\r\n                        <div className=\"message-body\">{chat.msg}</div>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                );\r\n              })\r\n              .reverse()\r\n          : null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChatAppMassage;\r\n","import React from \"react\";\r\nimport { Button, Container, Form, FormFeedback, Input } from \"reactstrap\";\r\nimport \"../../assets/scss/chat.scss\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Buyimg from \"../../../src/assets/img/boy-img.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ChatAppList from \"./ChatAppList\";\r\nimport ChatAppMassage from \"./ChatAppMassage\";\r\nimport axiosConfig from \"../../axiosConfig\";\r\nimport { Fetchuserdetail } from \"../header/IconGroup\";\r\nimport swal from \"sweetalert\";\r\n\r\nclass ChatApp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.countRef = React.createRef();\r\n    this.apicall = React.createRef();\r\n\r\n    this.state = {\r\n      Index: \"\",\r\n      Historydata: false,\r\n      setTimer: 0,\r\n      data: {},\r\n      sendbutton: \"\",\r\n      Activeastro: {},\r\n      CurrentRoomid: \"\",\r\n      roomChatData: [],\r\n      userId: \"\",\r\n      astroId: \"\",\r\n      msg: \"\",\r\n      roomId: \"\",\r\n      createNewValidation: true,\r\n      newWorkspace: false,\r\n    };\r\n    this.timer = 0;\r\n    this.startTimer = this.startTimer.bind(this);\r\n    this.countDown = this.countDown.bind(this);\r\n  }\r\n\r\n  secondsToTime(secs) {\r\n    let hours = Math.floor(secs / (60 * 60));\r\n    let divisor_for_minutes = secs % (60 * 60);\r\n    let minutes = Math.floor(divisor_for_minutes / 60);\r\n    let divisor_for_seconds = divisor_for_minutes % 60;\r\n    let seconds = Math.ceil(divisor_for_seconds);\r\n\r\n    let obj = {\r\n      h: hours,\r\n      m: minutes,\r\n      s: seconds,\r\n    };\r\n    return obj;\r\n  }\r\n  formatTime = timer => {\r\n    const getSeconds = `0${timer % 60}`.slice(-2);\r\n    const minutes = `${Math.floor(timer / 60)}`;\r\n    const getMinutes = `0${minutes % 60}`.slice(-2);\r\n    const getHours = `0${Math.floor(timer / 3600)}`.slice(-2);\r\n\r\n    return `${getHours} : ${getMinutes} : ${getSeconds}`;\r\n  };\r\n\r\n  handlestartinterval = () => {\r\n    this.apicall.current = setInterval(() => {\r\n      let userId = JSON.parse(localStorage.getItem(\"user_id\"));\r\n      let astroId = localStorage.getItem(\"videoCallAstro_id\");\r\n      sessionStorage.setItem(\"typeofcall\", \"Chat\");\r\n\r\n      let payload = {\r\n        userId: userId,\r\n        astroId: astroId,\r\n        status: true,\r\n      };\r\n      axiosConfig\r\n        .post(`/user/addCallDuration`, payload)\r\n        .then(res => {\r\n          // console.log(\"callduration\", res.data);\r\n          Fetchuserdetail();\r\n        })\r\n        .catch(err => {\r\n          console.log(err.response.data.message);\r\n          if (\r\n            err.response.data.message === \"Insufficient balance for the call\"\r\n          ) {\r\n            this.handlestop();\r\n            this.props.history.push(\"/allastrologerlist\");\r\n            swal(\"You have Low Balance\");\r\n          }\r\n        });\r\n    }, 60000);\r\n  };\r\n\r\n  handleStart = () => {\r\n    this.countRef.current = setInterval(() => {\r\n      this.setState({ setTimer: this.state.setTimer + 1 });\r\n    }, 1000);\r\n    this.handlestartinterval();\r\n  };\r\n\r\n  handlePause = () => {\r\n    clearInterval(this.countRef.current);\r\n    clearInterval(this.apicall.current);\r\n  };\r\n\r\n  handlestop = () => {\r\n    this.handlePause();\r\n    let userId = JSON.parse(localStorage.getItem(\"user_id\"));\r\n    let astroId = localStorage.getItem(\"videoCallAstro_id\");\r\n    sessionStorage.setItem(\"typeofcall\", \"Chat\");\r\n    let payload = {\r\n      userId: userId,\r\n      astroId: astroId,\r\n      status: false,\r\n    };\r\n    axiosConfig\r\n      .post(`/user/addCallDuration`, payload)\r\n      .then(res => {\r\n        console.log(\"callduration per min\", res.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response.data.message);\r\n      });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const astroId = localStorage.getItem(\"astroId\");\r\n\r\n    axiosConfig\r\n      .get(`/admin/getoneAstro/${astroId}`)\r\n      .then(res => {\r\n        console.log(res.data.data);\r\n        this.setState({ Activeastro: res?.data?.data });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    let timeLeftVar = \"\";\r\n    if (JSON.parse(localStorage.getItem(\"minute\"))) {\r\n      let minute = JSON.parse(localStorage.getItem(\"minute\"));\r\n      this.setState({ minutes: minute, seconds: minute * 60 });\r\n      this.startTimer();\r\n      this.secondsToTime(minute * 60);\r\n    }\r\n    let user_id = JSON.parse(localStorage.getItem(\"user_id\"));\r\n    console.log(\"user_id1452\", user_id);\r\n\r\n    axiosConfig\r\n      .get(`/user/getroomid/${user_id}`)\r\n      .then(response => {\r\n        console.log(response.data.data);\r\n        if (response.data.status === true) {\r\n          this.setState({\r\n            data: response.data.data,\r\n            fullname: response.data.data.fullname,\r\n            userimg: response.data.data.userimg,\r\n            time: timeLeftVar,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  startTimer() {\r\n    if (this.timer === 0 && this.state.seconds > 0) {\r\n      this.timer = setInterval(this.countDown, 1000);\r\n    }\r\n  }\r\n\r\n  countDown() {\r\n    let seconds =\r\n      this.state.seconds !== 0 ? this.state.seconds - 1 : alert(\"out time\");\r\n\r\n    this.setState({\r\n      time: this.secondsToTime(seconds),\r\n      seconds: seconds,\r\n    });\r\n\r\n    // Check if we're at zero.\r\n    if (seconds === 0) {\r\n      clearInterval(this.timer);\r\n    }\r\n  }\r\n  getChatRoom = (data, status) => {\r\n    this.setState({ Historydata: status });\r\n    this.alluserMessage();\r\n    let userid = JSON.parse(localStorage.getItem(\"user_id\"));\r\n    let obj = {\r\n      astroid: data?._id,\r\n      msg: this.state.msg,\r\n    };\r\n    if (this.state.CurrentRoomid !== \"\") {\r\n      axiosConfig\r\n        .get(`/user/allchatwithuser/${this.state.CurrentRoomid}`)\r\n        .then(respons => {\r\n          console.log(respons?.data?.data);\r\n          this.handleStart();\r\n\r\n          if (respons.data.status === true) {\r\n            this.setState({ roomChatData: respons?.data.data });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      axiosConfig\r\n        .post(`/user/addchat/${userid}`, obj)\r\n        .then(response => {\r\n          console.log(\"chat\", response.data);\r\n          this.setState({ CurrentRoomid: response?.data?.data?.roomid });\r\n          sessionStorage.setItem(\"roomId\", response?.data?.data?.roomid);\r\n          console.log(\"chat\", response?.data?.data?.roomid);\r\n          if (response.data.status === true) {\r\n            this.setState({ msg: \"\" });\r\n            axiosConfig\r\n              .get(`/user/allchatwithuser/${response?.data?.data?.roomid}`)\r\n              .then(respons => {\r\n                // this.handleStart();\r\n                console.log(respons?.data?.data);\r\n                // console.log(respons?.data?.status);\r\n                if (respons.data.status === true) {\r\n                  this.setState({ roomChatData: respons?.data.data });\r\n                }\r\n              })\r\n              .catch(error => {\r\n                console.log(error);\r\n              });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          // swal(\"Error!\", \"You clicked the button!\", \"error\");\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n  alluserMessage = () => {\r\n    setInterval(() => {\r\n      const roomId = sessionStorage.getItem(\"roomId\");\r\n      axiosConfig\r\n        .get(`/user/allchatwithuser/${roomId}`)\r\n        .then(respons => {\r\n          // this.handleStart();\r\n          console.log(\"ccccc>>>>>>\", respons?.data?.data);\r\n          // console.log(respons?.data?.status);\r\n          if (respons.data.status === true) {\r\n            this.setState({ roomChatData: respons?.data.data });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    }, 5000);\r\n  };\r\n\r\n  getChatRoomId = async (user, index) => {\r\n    this.setState({ Historydata: true });\r\n    this.setState({ sendbutton: user.astroid?._id });\r\n    this.setState({ Index: index });\r\n    localStorage.setItem(\"videoCallAstro_id\", user?.astroid?._id);\r\n    console.log(\"userdata\", user, index);\r\n\r\n    this.setState({ astroId: user?.astroid?._id, roomId: user?.roomid });\r\n    sessionStorage.setItem(\"roomId\", user?.roomid);\r\n    await axiosConfig\r\n      .get(`/user/allchatwithuser/${user?.roomid}`)\r\n      .then(response => {\r\n        console.log(response?.data?.data);\r\n        if (response.data.status === true) {\r\n          this.setState({ roomChatData: response?.data.data });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  submitHandler = async (e, astroid, userId) => {\r\n    e.preventDefault();\r\n    // let { id } = this.props.match.params;\r\n    const astroId = localStorage.getItem(\"astroId\");\r\n    let userid = JSON.parse(localStorage.getItem(\"user_id\"));\r\n\r\n    if (this.state.msg != \"\") {\r\n      let obj = {\r\n        astroid: astroId,\r\n        msg: this.state.msg,\r\n      };\r\n\r\n      await axiosConfig\r\n        .post(`/user/addchat/${userid}`, obj)\r\n        .then(response => {\r\n          console.log(\"hdfkjh\", response.data?.data?.roomid);\r\n          if (response.data.status === true) {\r\n            this.setState({ msg: \"\" });\r\n            axiosConfig\r\n              .get(`/user/allchatwithuser/${response.data?.data?.roomid}`)\r\n              .then(respons => {\r\n                this.handleStart();\r\n                console.log(respons?.data?.data);\r\n                if (respons.data.status === true) {\r\n                  this.setState({ roomChatData: respons?.data.data });\r\n                }\r\n              })\r\n              .catch(error => {\r\n                console.log(error);\r\n              });\r\n          }\r\n        })\r\n\r\n        .catch(error => {\r\n          // swal(\"Error!\", \"You clicked the button!\", \"error\");\r\n          console.log(error);\r\n        });\r\n    } else swal(\"Input filed is blank\", \"Fill it before send\");\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      msg: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <LayoutOne headerTop=\"visible\">\r\n        <section className=\"app-chatbg\">\r\n          <Container>\r\n            <div class=\"app rt-chat\">\r\n              <div class=\"contact-list\">\r\n                <h1 class=\"title\">My messages</h1>\r\n\r\n                <ChatAppList\r\n                  getChatRoomId={(id, index) => this.getChatRoomId(id, index)}\r\n                  getChatRoom={(data, status) => this.getChatRoom(data, status)}\r\n                  data={this.state.Historydata}\r\n                />\r\n              </div>\r\n              {this.state.Historydata === true ? (\r\n                <>\r\n                  <div class=\"messages\">\r\n                    <div className=\"chat-header\">\r\n                      <p>\r\n                        <span>\r\n                          <img\r\n                            src={\r\n                              this.state.roomChatData.length > 0\r\n                                ? this.state.roomChatData[0]?.astroid?.img[0]\r\n                                : Buyimg\r\n                            }\r\n                            className=\"app-img\"\r\n                            alt=\"\"\r\n                          />\r\n                        </span>\r\n                        {this.state.roomChatData.length > 0\r\n                          ? this.state.roomChatData[0]?.astroid?.fullname\r\n                          : null}\r\n                      </p>\r\n                      <span className=\"appchattimer\">\r\n                        <p>{this.formatTime(this.state.setTimer)}</p>\r\n                      </span>\r\n                    </div>\r\n                    <div class=\"messages-history\">\r\n                      <ChatAppMassage\r\n                        roomChatData={\r\n                          this.state.roomChatData.length > 0\r\n                            ? this.state.roomChatData\r\n                            : []\r\n                        }\r\n                      />\r\n                    </div>\r\n                    {localStorage.getItem(\"astroId\") ===\r\n                    this.state.sendbutton ? (\r\n                      <>\r\n                        <form class=\"messages-inputs\">\r\n                          <input\r\n                            type=\"text\"\r\n                            placeholder=\"Send a message\"\r\n                            // valid={this.state.createNewValidation}\r\n                            // invalid={!this.state.createNewValidation}\r\n                            onChange={e => {\r\n                              this.handleChange(e);\r\n                            }}\r\n                            value={this.state.msg}\r\n                            defaultValue={\"\"}\r\n                          />\r\n                          {/* <FormFeedback valid={this.state.createNewValidation}>\r\n                            {this.state.createNewValidation\r\n                              ? \"Sweet! That name is available.\"\r\n                              : \"Oh no! That name is already taken.\"}\r\n                          </FormFeedback> */}\r\n                          <button\r\n                            disabled={\r\n                              // onClick={() => setNewWorkspace(!newWorkspace)}\r\n                              !this.state.createNewValidation ||\r\n                              !this.state.newWorkspaceTitle\r\n                            }\r\n                            onClick={e => {\r\n                              this.submitHandler(\r\n                                e,\r\n                                this.state.astroId,\r\n                                this.state.userId\r\n                              );\r\n                            }}\r\n                          >\r\n                            <i class=\"material-icons\">send</i>\r\n                          </button>\r\n                        </form>\r\n                      </>\r\n                    ) : null}\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div class=\"messages\">\r\n                    <div className=\"chat-header\">\r\n                      <p>\r\n                        <span>\r\n                          <img\r\n                            src={this.state.Activeastro?.img}\r\n                            className=\"app-img\"\r\n                            alt=\"\"\r\n                          />\r\n                        </span>\r\n                        {this.state.Activeastro?.fullname}\r\n                      </p>\r\n                      <span className=\"appchattimer\">\r\n                        <p>{this.formatTime(this.state.setTimer)}</p>\r\n                      </span>\r\n                    </div>\r\n                    <div class=\"messages-history\">\r\n                      <ChatAppMassage\r\n                        roomChatData={\r\n                          this.state.roomChatData.length > 0\r\n                            ? this.state.roomChatData\r\n                            : []\r\n                        }\r\n                      />\r\n                    </div>\r\n\r\n                    <form class=\"messages-inputs\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Send a message\"\r\n                        onChange={e => {\r\n                          this.handleChange(e);\r\n                        }}\r\n                        value={this.state.msg}\r\n                        defaultValue={\"\"}\r\n                      />\r\n\r\n                      <button\r\n                        onClick={e => {\r\n                          this.submitHandler(\r\n                            e,\r\n                            this.state.astroId,\r\n                            this.state.userId\r\n                          );\r\n                        }}\r\n                      >\r\n                        <i class=\"material-icons\">send</i>\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"chat-bottom\">\r\n              <Link to=\"/astrorating\">\r\n                <Button onClick={this.handlestop} color=\"primary\">\r\n                  Close Chat\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          </Container>\r\n        </section>\r\n      </LayoutOne>\r\n    );\r\n  }\r\n}\r\nexport default ChatApp;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nvar _excluded = [\"active\", \"aria-label\", \"block\", \"className\", \"close\", \"cssModule\", \"color\", \"outline\", \"size\", \"tag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  active: PropTypes.bool,\n  'aria-label': PropTypes.string,\n  block: PropTypes.bool,\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  outline: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  onClick: PropTypes.func,\n  size: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  close: PropTypes.bool\n};\nvar defaultProps = {\n  color: 'secondary',\n  tag: 'button'\n};\nvar Button = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Button, _React$Component);\n  function Button(props) {\n    var _this;\n    _this = _React$Component.call(this, props) || this;\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = Button.prototype;\n  _proto.onClick = function onClick(e) {\n    if (this.props.disabled) {\n      e.preventDefault();\n      return;\n    }\n    if (this.props.onClick) {\n      return this.props.onClick(e);\n    }\n  };\n  _proto.render = function render() {\n    var _this$props = this.props,\n      active = _this$props.active,\n      ariaLabel = _this$props['aria-label'],\n      block = _this$props.block,\n      className = _this$props.className,\n      close = _this$props.close,\n      cssModule = _this$props.cssModule,\n      color = _this$props.color,\n      outline = _this$props.outline,\n      size = _this$props.size,\n      Tag = _this$props.tag,\n      innerRef = _this$props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    if (close && typeof attributes.children === 'undefined') {\n      attributes.children = /*#__PURE__*/React.createElement(\"span\", {\n        \"aria-hidden\": true\n      }, \"\\xD7\");\n    }\n    var btnOutlineColor = \"btn\" + (outline ? '-outline' : '') + \"-\" + color;\n    var classes = mapToCssModules(classNames(className, {\n      close: close\n    }, close || 'btn', close || btnOutlineColor, size ? \"btn-\" + size : false, block ? 'btn-block' : false, {\n      active: active,\n      disabled: this.props.disabled\n    }), cssModule);\n    if (attributes.href && Tag === 'button') {\n      Tag = 'a';\n    }\n    var defaultAriaLabel = close ? 'Close' : null;\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      type: Tag === 'button' && attributes.onClick ? 'button' : undefined\n    }, attributes, {\n      className: classes,\n      ref: innerRef,\n      onClick: this.onClick,\n      \"aria-label\": ariaLabel || defaultAriaLabel\n    }));\n  };\n  return Button;\n}(React.Component);\nButton.propTypes = propTypes;\nButton.defaultProps = defaultProps;\nexport default Button;"],"sourceRoot":""}