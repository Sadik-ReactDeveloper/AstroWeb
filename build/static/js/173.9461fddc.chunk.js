(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[173],{1092:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));var n=a(202),l=a(196),r=a(197),o=a(198),s=a(199),m=a(0),i=a.n(m),c=a(619),d=a.n(c),u=a(657),g=a(646),p=a(200),E=a(667),h=a(678),f=a(605),b=a(615),v=a(852),N=a(645),y=a(988),S=a.n(y),w=(a(989),a(621)),C=a.n(w),H=a(2),P=a(71),I=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).onChangeHandler=function(e){r.setState({selectedFile:e.target.files[0]}),r.setState({selectedName:e.target.files[0].name}),console.log(e.target.files[0])},r.otpHandler=function(e){e.preventDefault(),console.log("dddddhh",r.state),P.a.post("/user/userVryfyotp",{mobile:parseInt(r.state.mobile),otp:parseInt(r.state.otp)}).then((function(e){var t,a,n,l,o,s;!0===e.data.status&&(r.setState({otpMsg:e.data.msg}),localStorage.setItem("userData",JSON.stringify(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)),localStorage.setItem("token",JSON.stringify(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.token)),localStorage.setItem("user_id",JSON.stringify(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(l=n.data)||void 0===l?void 0:l._id)),localStorage.setItem("user_mobile_no",JSON.stringify(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.mobile)),"otp verified"===e.data.msg&&r.props.history.push("/"))})).catch((function(e){console.log(e)}))},r.loginHandler=function(e){if(e.preventDefault(),""!==r.state.mobile){var t={mobile:parseInt(r.state.mobile)};P.a.post("/user/userlogin",t).then((function(e){console.log("@@@####",e.data),r.setState({otpMsg:e.data.msg}),"otp Send Successfully"===e.data.msg&&(localStorage.setItem("mobileNumber",r.state.mobile),C()("OTP Send Successfully"))})).catch((function(e){console.log(e.response),C()("Error!","User doesn't Exist","error")}))}else r.setState({mobileError:"Please enter mobile number"})},r.changeHandler=function(e){e.preventDefault(),r.setState(Object(n.a)({},e.target.name,e.target.value))},r.submitHandler=function(e){e.preventDefault(),console.log(r.state.data);var t=new FormData;t.append("fullname",r.state.fullname),t.append("email",r.state.email),t.append("mobile",r.state.mobile),t.append("gender",r.state.gender),t.append("city",r.state.city),t.append("dob",r.state.dob),t.append("password",r.state.password),t.append("cnfmPassword",r.state.cnfmPassword),null!==r.state.selectedFile&&t.append("userimg",r.state.selectedFile,r.state.selectedName),P.a.post("/user/usersignup",t).then((function(e){console.log(e.data.msg),localStorage.setItem("auth-token",e.data.token),r.setState({otpMsg:e.data.otp}),C()("Success!"," Register Successful Done!","success"),r.props.history.push("/")})).catch((function(e){console.log(e.response),C()("Error!","Something went wrong","error")}))},r.state={fullname:"",email:"",mobile:"",dob:"",gender:"",city:"",userimg:"",selectedName:"",selectedFile:null,otp:"",otpMsg:"",passMsg:"",cnfmPassword:"",password:"",mobileError:""},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(m.Fragment,null,i.a.createElement(d.a,null,i.a.createElement("title",null,"Astrogyata"),i.a.createElement("meta",{name:"description",content:"Compare page of flone react minimalist eCommerce template."})),i.a.createElement(p.a,{headerTop:"visible"},i.a.createElement("div",{className:"login-register-area pt-100 pb-100"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row d-flex align-items-center justify-content-center"},i.a.createElement("div",{className:"col-lg-7 col-md-12 ml-auto mr-auto"},i.a.createElement("div",{className:"login-register-wrapper"},i.a.createElement(u.a.Container,{defaultActiveKey:"login"},i.a.createElement(g.a,{variant:"pills",className:"login-register-tab-list"},i.a.createElement(g.a.Item,null,i.a.createElement(g.a.Link,{eventKey:"login"},i.a.createElement("h4",null,"Login"))),i.a.createElement(g.a.Item,null,i.a.createElement(g.a.Link,{eventKey:"register"},i.a.createElement("h4",null,"Register")))),i.a.createElement(u.a.Content,null,i.a.createElement(u.a.Pane,{eventKey:"login"},i.a.createElement("div",{className:"login-form-container"},"otp Send Successfully"===this.state.otpMsg?i.a.createElement("div",{className:"login-register-form"},i.a.createElement(E.a,{onSubmit:this.otpHandler},i.a.createElement(h.a,{type:"otp",name:"otp",required:!0,placeholder:"Enter OTP",value:this.state.otp,onChange:this.changeHandler}),i.a.createElement("div",{className:"button-box"},i.a.createElement("div",{className:"login-toggle-btn"},i.a.createElement(H.c,{to:"/password"},"Login with password")),i.a.createElement("div",{className:"login-toggle-btn"}),i.a.createElement("button",{type:"submit"},i.a.createElement("span",null,"OTP Verify"))))):i.a.createElement("div",{className:"login-register-form"},i.a.createElement(E.a,{onSubmit:this.loginHandler},i.a.createElement(f.a,null,i.a.createElement(b.a,{md:"12"},i.a.createElement(S.a,{countryCodeEditable:!1,className:"mob-int",country:"in",value:this.state.mobile,onChange:function(t){return e.setState({mobile:t})}}),""!==this.state.mobileError?i.a.createElement("span",{style:{color:"red"}},this.state.mobileError):null)),i.a.createElement("div",{className:"button-box"},i.a.createElement("div",{className:"login-toggle-btn"},i.a.createElement(H.c,{to:"/ForgotPassword"},"Forgot Password?")),i.a.createElement("div",{className:"login-toggle-btn"}),i.a.createElement("button",{type:"submit"},i.a.createElement("span",null,"Login"))))))),i.a.createElement(u.a.Pane,{eventKey:"register"},i.a.createElement("div",{className:"login-form-container"},i.a.createElement("div",{className:"login-register-form"},i.a.createElement(E.a,{className:"text-center",onSubmit:this.submitHandler,method:"post"},i.a.createElement(f.a,null,i.a.createElement(b.a,{md:"12"},i.a.createElement(v.a,null,"User Image"),i.a.createElement(h.a,{type:"file",name:"userimg",onChange:this.onChangeHandler,className:"form-controller"})),i.a.createElement(b.a,{md:"6"},i.a.createElement(h.a,{type:"text",name:"fullname",required:!0,placeholder:"Enter Your Fullname",value:this.state.fullname,onChange:this.changeHandler,className:"form-controller"})),i.a.createElement(b.a,{md:"6"},i.a.createElement(h.a,{type:"email",name:"email",required:!0,placeholder:"Enter Your Email",value:this.state.email,onChange:this.changeHandler,className:"form-controller"})),i.a.createElement(b.a,{md:"6"},i.a.createElement(S.a,{countryCodeEditable:!1,country:"in",value:this.state.mobile,onChange:function(t){return e.setState({mobile:t})},width:"80%",className:"form-controller"})),i.a.createElement(b.a,{md:"6"},i.a.createElement(h.a,{type:"password",name:"password",maxLength:"12",required:!0,placeholder:"Enter Your password",value:this.state.password,onChange:this.changeHandler,className:"form-controller"})),i.a.createElement(b.a,{md:"6"}," ",i.a.createElement(h.a,{type:"password",name:"cnfmPassword",maxLength:"12",required:!0,placeholder:"Enter Your Confirm password",value:this.state.cnfmPassword,onChange:this.changeHandler,className:"form-controller"})),i.a.createElement(b.a,{md:"6"},i.a.createElement(h.a,{type:"date",name:"dob",required:!0,placeholder:"Date of birth",value:this.state.dob,onChange:this.changeHandler,className:"form-controller"}))),i.a.createElement("div",{className:"button-box"},i.a.createElement(N.a,{type:"submit"},i.a.createElement("span",null,"Register")))))))))),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"login-form-container"},i.a.createElement("div",{className:"login-register-form"},i.a.createElement("div",{className:"button-box"},i.a.createElement("div",{className:"login-toggle-btn"})))))))))))}}]),a}(m.Component)}}]);
//# sourceMappingURL=173.9461fddc.chunk.js.map